include ./transforms.mpdf

[defaultunit 1%c]

[ test1 :: [-> a x ]
 { > <
   [ x1 :: 0mm ]
   [ x2 :: 30mm ]
   [ p :: (x1,0)--(^)<([mediate x x1 x2],2mm^~40°)>(^)--(x2,0) ]
   [stroke p]
   [width 0.3bp]
   [stroking RGB_RED]
   [stroke [controlling p]]} ]

[ iterate :: [-> i f ] [if i >= 0 {[f i] [iterate i-1 f]}] ]

[ test :: [-> a y ]
  [iterate 7 ([-> i] [draw [[shift (i*40mm,y)] [test1 a i/7]]])] ]

[test 30° 0mm]
